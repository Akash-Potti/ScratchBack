---
import TitlePost from './TitlePost.astro';
import { Picture } from 'astro:assets';
import { type CollectionEntry } from 'astro:content';
import { getLangFromUrl, useTranslations } from '@/i18n/utils';
import { getAbsoluteLocaleUrl } from 'astro:i18n';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

type Props = {
	post: CollectionEntry<'posts'>;
};

const { post } = Astro.props;
const blogUrl = getAbsoluteLocaleUrl(lang, 'blog');
---

<span class="atropos my-atropos">
    <!-- scale container (required) -->
    <span class="atropos-scale">
      <!-- rotate container (required) -->
      <span class="atropos-rotate">
        <!-- inner container (required) -->
        <span class="atropos-inner">
          <!-- put your custom content here -->
		  <article
			  class='p-4 flex flex-col space-y-3 mt-[12.2222%] w-full max-w-[600px] hover:bg-zinc-500/20 rounded-2xl transition-colors duration-150'>
			  <a href={`${blogUrl}${post.slug}`}>
				  <Picture
					  transition:name={post.data.title}
					  src={post.data.image}
					  alt={post.data.title}
					  width='500'
					  height='220'
					  formats={['avif', 'webp']}
					  class='object-cover h-full max-h-[220px] w-full rounded-2xl'
				  />
				  <a href={`${blogUrl}${post.slug}`}>
				  <ul class="flex">
					  <li
						  class='mb-4 my-auto text-xs font-light blur-bg rounded-2xl px-2 py-1 inline-flex items-center'>
						  <svg
							  class='w-6 inline-block mr-1 my-auto'
							  fill='none'
							  stroke='currentColor'
							  stroke-width='1'
							  viewBox='0 0 24 24'
							  xmlns='http://www.w3.org/2000/svg'
							  aria-hidden='true'>
							  <path
								  stroke-linecap='round'
								  stroke-linejoin='round'
								  d='M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z'
							  ></path>
						  </svg>
						  {post.data.author}
					  </li>
		  
					  <li class="ml-2 mb-4 my-auto text-xs font-light blur-bg rounded-2xl">
					  <date class="px-2 py-1 inline-flex items-center">
						  <svg
							  class='w-6 inline-block mr-1 my-auto'
							  fill='none'
							  stroke='currentColor'
							  stroke-width='1'
							  viewBox='0 0 24 24'
							  xmlns='http://www.w3.org/2000/svg'
							  aria-hidden='true'>
							  <path
								  stroke-linecap='round'
								  stroke-linejoin='round'
								  d='M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z'
							  ></path>
						  </svg>
						  {post.data.publishDate}
					  </date>
					  </li>
		  
					  <li
						  class='mb-4 ml-2 my-auto text-xs font-light blur-bg rounded-2xl px-2 py-1 inline-flex items-center'>
						  <svg
							  class='w-6 inline-block mr-1 my-auto'
							  fill='none'
							  stroke='currentColor'
							  stroke-width='1'
							  viewBox='0 0 24 24'
							  xmlns='http://www.w3.org/2000/svg'
							  aria-hidden='true'>
							  <path
								  stroke-linecap='round'
								  stroke-linejoin='round'
								  d='M6 6.878V6a2.25 2.25 0 012.25-2.25h7.5A2.25 2.25 0 0118 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 004.5 9v.878m13.5-3A2.25 2.25 0 0119.5 9v.878m0 0a2.246 2.246 0 00-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0121 12v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6c0-.98.626-1.813 1.5-2.122'
							  ></path>
						  </svg>
						  {post.data.categories}
					  </li>
				  </ul>
					  <TitlePost h1={post.data.title} />
					  <p class="mt-5 line-clamp-4">{post.data.description}</p>
				  </a>
			  </a>
		  </article>
        </span>
      </span>
    </span>
  </span>






<link rel="stylesheet" href="/styles/atropos.min.css">

<script>
import Atropos from 'atropos';

if (window.innerWidth > 1024) {
  const elements = document.querySelectorAll('.my-atropos');

  elements.forEach((el) => {
    Atropos({
      el: el as HTMLElement,
      highlight: false,
      activeOffset: 0,
      shadowOffset: 0,
      shadowScale: 0,
    });
  });
}
</script>